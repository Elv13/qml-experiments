#include "qmlwindow.h"

#include <QtDeclarative/QDeclarativeView>
#include <QtDeclarative/QDeclarativeEngine>
#include <QtDeclarative/QDeclarativeContext>
#include <QDBusAbstractAdaptor>

#include <QDirModel>

#include "qtsflphone/callmodel.h"
#include "qtsflphone/historymodel.h"


// A simple main window widget pre-generated by qt creator
QmlWindow::QmlWindow(QWidget *parent)
    : QMainWindow(parent)
{
    //model = new SimpleListModel(this);
    CallModel::instance();

    view = new QDeclarativeView(this);
    setCentralWidget(view);
    view->engine()->rootContext()->setContextProperty("CallModel",CallModel::instance());
    view->engine()->rootContext()->setContextProperty("HistoryModel",HistoryModel::instance());


    view->setSource(QUrl("/home/etudiant/dev/testqml10/qml/testqml10/main.qml"));
}
// #include "qmlwindow.moc"
// #include "moc_qmlwindow.cxx"
